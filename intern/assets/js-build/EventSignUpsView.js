function filter(a,b){b=$.trim(b),b=b.replace(/ /gi,"|"),$(a).each(function(){$(this).text().search(new RegExp(b,"i"))<0?$(this).hide().removeClass("visible"):$(this).show().addClass("visible")})}function zebraRows(a,b){$(a).removeClass(b).addClass(b)}$(document).ready(function(){$("thead th input:checkbox").change(function(){var a=$(this).is(":checked");$("tbody tr td input:checkbox").each(function(){$(this).attr("checked",a)})}),zebraRows("tr:odd td","odd"),$("tbody tr").hover(function(){$(this).find("td").addClass("hovered")},function(){$(this).find("td").removeClass("hovered")}),$("tbody tr").addClass("visible"),$("#search").keyup(function(a){a.keyCode==27||$(this).val()==""?($(this).val(""),$("tbody tr").removeClass("visible").show().addClass("visible")):filter("tbody tr",$(this).val()),$(".visible td").removeClass("odd"),zebraRows(".visible:even td","odd")}),$("thead th").each(function(a){$(this).addClass("sortable").click(function(){var b=function(a){return a.text().toUpperCase()},c=$(this).is(".sorted-asc")?-1:1,d=$(this).parent().parent().parent().find("tbody tr").get();$.each(d,function(c,d){d.sortKey=b($(d).children("td").eq(a))}),d.sort(function(a,b){return a.sortKey<b.sortKey?-c:a.sortKey>b.sortKey?c:0}),$("tbody").empty(),$.each(d,function(a,b){$("tbody").append(b),b.sortKey=null}),$("th").removeClass("sorted-asc sorted-desc");var e=$("th").filter(":nth-child("+(a+1)+")");c==1?e.addClass("sorted-asc"):e.addClass("sorted-desc"),$("td").removeClass("sorted").filter(":nth-child("+(a+1)+")").addClass("sorted"),$(".visible td").removeClass("odd"),zebraRows(".visible:even td","odd")})})})