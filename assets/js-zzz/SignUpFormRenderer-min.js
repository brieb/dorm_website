var SignUpFormRenderer={};SignUpFormRenderer={formViewUrl:SITE_URL+"/sign_up/view/",urlResponseCreate:SITE_URL+"/sign_up_response/create",urlResponseDelete:SITE_URL+"/sign_up_response/delete",buttonSignUp:null,signUpId:null,eventTitle:"",responseId:0,content:null,container:null,init:function(d,c,a,b){this.signUpId=d;this.eventTitle=a;this.buttonSignUp=$("#"+b);this.responseId=c;if(this.responseId===""){this.buttonSignUpCreate()}else{this.buttonSignUpDelete()}},buttonSignUpCreate:function(){this.buttonSignUp.button({label:"Sign Up"}).unbind("click").click(function(){this.display()}.bind(this))},buttonSignUpDelete:function(){this.buttonSignUp.button({label:"Cancel Sign Up"}).unbind("click").click(function(){this.cancel()}.bind(this))},process:function(){if(this.content===""){$.post(this.urlResponseCreate,{sign_up_id:this.signUpId},function(a){this.responseHandler(a)}.bind(this))}else{this.formRender()}},responseHandler:function(a){this.responseId=a;this.buttonSignUpDelete()},cancel:function(){$.post(this.urlResponseDelete,{id:this.responseId},function(a){if(a==="1"){this.buttonSignUpCreate()}}.bind(this))},display:function(){if(this.content!==null){this.process()}else{$.get(this.formViewUrl+this.signUpId,function(a){this.content=a;this.process()}.bind(this))}},formRender:function(){this.container=$("<div />");this.container.html(this.content);this.container.dialog({title:"Sign Up for "+this.eventTitle,autoOpen:true,modal:true,draggable:false,width:600,dialogClass:"sign_up_form_render",buttons:{"Sign Up":function(){this.formSubmit()}.bind(this),Cancel:function(){this.container.dialog("close")}.bind(this)},close:function(){}})},formSubmit:function(){$.post(this.urlResponseCreate,this.container.find("form").serialize().replace(/%5B%5D/g,"[]")+"&sign_up_id="+this.signUpId,function(a){this.responseHandler(a);this.container.dialog("close")}.bind(this))}};