$(document).ready(function(){var a=function(){var a=$("#header").height(),b=parseInt($(window).height()-a),c=$("#sidebar"),d=$("#sidebar-right"),e=$("#content"),f=parseInt(c.css("padding-top"))+parseInt(c.css("padding-bottom")),g=parseInt(e.css("padding-top"))+parseInt(e.css("padding-bottom"));c.height(b-f),e.height(b-g)},b=function(){console.log(window.location.href),$("#header #links a, #sidebar a").each(function(){$(this).attr("href")===window.location.href&&$(this).addClass("active")})};$("#links li").hover(function(){var a=$(this);a.addClass("hover"),a.find(".submenu").show()},function(){var a=$(this);a.removeClass("hover"),a.find(".submenu").hide()}),$("#links .submenu li").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")})}),define("SetUp",function(){});var People={};People={users:null,init:function(a){this.users=a,$("#user_search").keyup(function(){this.print_matching_users()}.bind(this)),$("input:checkbox").click(function(){this.print_matching_users()}.bind(this)),this.print_matching_users()},detect_matching_users:function(){var a="";$('input[name="filter_house[]"]:checked').each(function(){a+="|"+this.value}),a=a.substring(1);var b=new RegExp(a,"i"),c="";$('input[name="filter_floor[]"]:checked').each(function(){c+="|^"+this.value+".*"}),c=c.substring(1);var d=new RegExp(c),e=$("#user_search").val(),f=new RegExp(e,"i"),g={residents:!1,staff:!1};$('input[name="filter_role[]"]:checked').each(function(){g[this.value]=!0});var h={freshman:!1,sophomore:!1,junior:!1,senior:!1};$('input[name="filter_class[]"]:checked').each(function(){h[this.value]=!0});for(var i=0;i<this.users.length;i++){var j=this.users[i];j.is_match=!1;if($('input[name="filter_house[]"]:checked').length==0||$('input[name="filter_floor[]"]:checked').length==0)continue;var k=j.staff_role!==null;if(!k&&!g.residents||k&&!g.staff)continue;if(!j["class"]||!h[j["class"].toLowerCase()])continue;var l=[j.full_name,j.email,j.house,j.staff_role,j.room,j.house+" "+j.room];j.is_match=j.house!==null&&j.house.search(b)>=0&&j.room!==null&&j.room.search(d)>=0;var m=!1;for(var n=0;n<l.length;n++)if(l[n]!==null&&l[n].search(f)>=0){m=!0;break}j.is_match=j.is_match&&m}},print_matching_users:function(){this.detect_matching_users();var a=0,b=0;$("#user_directory_listing").html("");var c=$("<table />"),d=$("<tr />");for(var e=0;e<this.users.length;e++){var f=this.users[e];if(f.is_match===!0){var g=$("<td />"),h=$("<ul />");h.append($("<li />").attr({"class":"photo"}).append($("<img />").attr({src:BASE_URL+f.photo})),$("<li />",{text:f.full_name,"class":"name"}),$("<li />").attr({"class":"email"}).append($("<a />").attr({href:"mailto:"+f.email}).text(f.email)),$("<li />",{text:f.house+" "+f.room,"class":"room"}),$("<li />",{text:f["class"],"class":"class"})),f.staff_role!==null&&h.append($("<li />",{text:f.staff_role,"class":"staff_role"})),g.append(h),d.append(g),a<=b?a++:b++,a===b&&(c.append(d),d=$("<tr />"))}}a>b&&(d.append($("<td />").attr({"class":"empty"})),c.append(d)),$("#user_directory_listing").html(c)}},define("People",function(){}),require(["jquery","SetUp","People"],function(a){}),define("main-people",function(){})